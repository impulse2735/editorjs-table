!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Table=t():e.Table=t()}(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(l=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+" */"),i=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[n].concat(i).concat([r]).join("\n")}var l;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var l=e[r];"number"==typeof l[0]&&o[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="("+l[2]+") and ("+n+")"),t.push(l))}},t}},function(e,t,n){var o,r,i={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),a=function(e,t){return t?t.querySelector(e):document.querySelector(e)},s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var o=a.call(this,e,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),c=null,d=0,u=[],h=n(7);function f(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var l=0;l<r.parts.length;l++)r.parts[l](o.parts[l]);for(;l<o.parts.length;l++)r.parts.push(y(o.parts[l],t))}else{var a=[];for(l=0;l<o.parts.length;l++)a.push(y(o.parts[l],t));i[o.id]={id:o.id,refs:1,parts:a}}}}function p(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],l=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};o[l]?o[l].parts.push(a):n.push(o[l]={id:l,parts:[a]})}return n}function b(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=u[u.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertAt.before,n);n.insertBefore(t,r)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function _(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=function(){0;return n.nc}();o&&(e.attrs.nonce=o)}return g(t,e.attrs),b(e,t),t}function g(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var l=d++;n=c||(c=_(t)),o=x.bind(null,n,l,!1),r=x.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),b(e,t),t}(t),o=k.bind(null,n,t),r=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=_(t),o=C.bind(null,n),r=function(){v(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=l()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var l=n[r];(a=i[l.id]).refs--,o.push(a)}e&&f(p(e,t),t);for(r=0;r<o.length;r++){var a;if(0===(a=o[r]).refs){for(var s=0;s<a.parts.length;s++)a.parts[s]();delete i[a.id]}}}};var w,m=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function x(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=m(t,r);else{var i=document.createTextNode(r),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(i,l[t]):e.appendChild(i)}}function C(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function k(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=h(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var l=new Blob([o],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(l),a&&URL.revokeObjectURL(a)}},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20"><path d="m10 11.396-3.938 3.937q-.291.292-.687.282-.396-.011-.687-.303-.292-.291-.292-.697 0-.407.292-.698L8.604 10 4.667 6.062q-.292-.291-.282-.697.011-.407.303-.698.291-.292.697-.292.407 0 .698.292L10 8.604l3.938-3.937q.291-.292.697-.292.407 0 .698.292.292.291.292.698 0 .406-.292.697L11.396 10l3.937 3.938q.292.291.292.687 0 .396-.292.687-.291.292-.698.292-.406 0-.697-.292Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20"><path d="M10 12.458q-.167 0-.323-.062-.156-.063-.302-.208L5.604 8.417q-.25-.25-.229-.625.021-.375.25-.604.271-.271.625-.261.354.011.604.261L10 10.354l3.167-3.166q.25-.25.593-.25.344 0 .615.27.25.25.25.615t-.25.615l-3.75 3.75q-.146.145-.302.208-.156.062-.323.062Z"></path></svg>'},function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=n(12).TableConstructor,i=n(10),l=n(11),a=function(){function e(t){var n,o,i,l,a=this,s=t.data,c=t.config,d=t.api,u=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l=function(){a.borderActive=!a.borderActive,a.toggleBorderButton.classList.toggle(a._CSS.settingsButtonActive,a.borderActive),a._tableConstructor._table._element.classList.toggle(a._tableConstructor._CSS.withBorder,a.borderActive)},(i="toggleBorder")in(o=this)?Object.defineProperty(o,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[i]=l,this.api=d,this.readOnly=u,this._tableConstructor=new r(s,c,d,u),this._CSS={input:"tc-table__inp",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive},this.borderActive=null===(n=s.settings)||void 0===n?void 0:n.withBorder}var t,n,a;return t=e,a=[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"sanitize",get:function(){return{br:!0,mark:!0}}},{key:"toolbox",get:function(){return{icon:i,title:"Table"}}}],(n=[{key:"render",value:function(){return this._tableConstructor.htmlElement}},{key:"save",value:function(e){for(var t=e.querySelector("table"),n=[],o=[],r=0;r<t.rows.length;r++){for(var i=t.rows[r],l=[],a=0;a<i.cells.length;a++){var s=i.cells[a],c={content:s.querySelector("."+this._CSS.input).innerHTML,colspan:s.colSpan,rowspan:s.rowSpan,display:"none"!==s.style.display,bgColor:s.style.backgroundColor,isHeader:"TH"===s.tagName};l.push(c)}o.push(l)}return t.querySelectorAll("col").forEach((function(e){n.push({span:e.span,width:e.style.width})})),{rows:o,colgroup:n}}},{key:"_isEmpty",value:function(e){return!e.textContent.trim()}},{key:"renderSettings",value:function(){var e=this,t=document.createElement("DIV"),n=document.createElement("SPAN");return n.classList.add(this._CSS.settingsButton),this.borderActive&&n.classList.add(this._CSS.settingsButtonActive),n.innerHTML=l,n.dataset.active=this.borderActive,n.addEventListener("click",(function(){e.toggleBorder()})),this.toggleBorderButton=n,t}}])&&o(t.prototype,n),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=a},function(e,t,n){var o=n(6);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".tc-editor{padding:40px 10px 10px 10px;position:relative;box-sizing:content-box;width:100%;left:-10px}.tc-editor__readonly{margin-bottom:0}.tc-editor .table-toolbar{position:absolute;bottom:-60px;left:30px;display:flex;flex-direction:row;align-items:center;background-color:#fff;box-shadow:0px 0px 10px #e6e6e6;border-radius:4px;width:87%;height:40px;padding:8px 16px;color:#000}.tc-editor .table-toolbar__button{border:none;background:none;border-radius:4px;font-size:12px;color:#797979;width:40px;height:40px;background-color:#fff;transition:80ms cubic-bezier(0.33, 1, 0.68, 1);transition-property:color,background-color,box-shadow,border-color;cursor:pointer}.tc-editor .table-toolbar__button:hover{background-color:#f3f3f3;transition-duration:.1s}.tc-editor .table-toolbar__button:not(:last-child){margin-right:10px}",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t,n){var o=n(9);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'.ce-toolbar{z-index:11}.tc-table{width:100%;height:100%;border-collapse:collapse;table-layout:fixed}.tc-table col{min-width:50px}.tc-table tbody th{background-color:#f9f9f9;text-align:initial;font-weight:bold}.tc-table__container{padding:40px 16px 16px 40px;margin:-24px 0 0 -24px;position:relative;overflow-x:auto;overflow-y:hidden}.tc-table__container_readonly{overflow-x:auto;overflow-y:hidden;padding:16px 0;margin:0}.tc-table__image{max-width:100%}.tc-table__with_border .tc-table__cell{border-color:#dbdbe2}.tc-table__wrap{position:relative;height:100%;width:100%;box-sizing:border-box}.tc-table__tr_remove::after,.tc-table__td_remove::after{height:100%;width:100%;border:1px solid #0065ff;content:"";position:absolute;left:-1px;top:-1px;bottom:0px;z-index:12;display:inline-block;pointer-events:none;box-sizing:content-box}.tc-table__cell{border:1px solid rgba(0,0,0,0);padding:0;vertical-align:top;position:relative}.tc-table__add_row_button,.tc-table__add_column_button{background-color:#ececec;position:absolute;z-index:1;cursor:pointer;border:1px solid #000;display:flex;align-items:center;justify-content:center;font-weight:bold;transition:opacity .2s ease;box-sizing:border-box;opacity:0}.tc-table__add_row_button:after,.tc-table__add_column_button:after{content:"+";color:#4a525f}.tc-table__add_row_button:hover,.tc-table__add_column_button:hover{background-color:#4a525f;opacity:1}.tc-table__add_row_button:hover:after,.tc-table__add_column_button:hover:after{color:#fff}.tc-table__add_column_button{height:13px;bottom:-4px;width:calc(100% - 36px)}.tc-table__add_row_button{height:calc(100% - 66px);width:12px;right:-5px;top:40px}.tc-table__add_row,.tc-table__add_column{flex-direction:column;left:-10px;top:-38px;position:absolute;align-items:center;display:flex;height:4000px;width:20px;pointer-events:none}.tc-table__add_row>div:first-child,.tc-table__add_column>div:first-child{width:20px;height:20px;align-items:center;justify-content:center;display:flex;pointer-events:all}.tc-table__add_row>div:first-child:before,.tc-table__add_column>div:first-child:before{content:"";display:block;width:4px;height:4px;border-radius:50%;background-color:#c1c7d0}.tc-table__add_row>div:first-child:after,.tc-table__add_column>div:first-child:after{content:"+";width:20px;height:20px;background-color:#72b6ec;border-radius:50%;color:#fff;text-align:center;cursor:pointer;display:none;align-items:center;justify-content:center;font-weight:bold;padding-bottom:1px}.tc-table__add_row>div:first-child:hover:before,.tc-table__add_column>div:first-child:hover:before{display:none}.tc-table__add_row>div:first-child:hover:after,.tc-table__add_column>div:first-child:hover:after{display:flex}.tc-table__add_row>div:first-child:hover~div,.tc-table__add_column>div:first-child:hover~div{opacity:1}.tc-table__add_row>div:last-child,.tc-table__add_column>div:last-child{width:3px;height:100%;background-color:#72b6ec;margin-top:18px;opacity:0}.tc-table__add_row{flex-direction:row;left:-37px;top:-11px;justify-content:center;height:20px;width:4000px}.tc-table__add_row>div:last-child{width:100%;height:3px;margin-left:17px;margin-top:0}.tc-table__add_column_end{left:auto;right:-9px}.tc-table__add_row_end{top:auto;bottom:-9px}.tc-table__resize_column{position:absolute;top:-1px;height:100%;left:-2px;width:3px;background-color:#4a525f;cursor:col-resize;z-index:1;opacity:0}.tc-table__select_line_col,.tc-table__select_line_row{position:absolute;height:10px;top:-16px;left:-1px;right:-1px;background-color:#f4f5f7;border:1px solid #c1c7d0;cursor:pointer}.tc-table__select_line_col:hover,.tc-table__select_line_row:hover{background-color:#0065ff}.tc-table__select_line_row{height:auto;width:10px;left:-16px;top:-1px;bottom:-1px;right:auto}.tc-table__select_line_remover{position:absolute;top:0px;left:0px;visibility:hidden;width:20px;height:20px;line-height:1;border:none;padding:0;background:none;cursor:pointer;border-radius:4px;background-color:#f4f5f7;transition:background .1s ease-out 0s,box-shadow .15s cubic-bezier(0.47, 0.03, 0.49, 1.38) 0s}.tc-table__select_line_remover div{width:100%;height:100%}.tc-table__select_line_remover svg{color:#45526c;fill:#45526c}.tc-table__select_line_remover:hover{background-color:#ff5630}.tc-table__select_line_remover:hover svg{color:#fff;fill:#fff}.tc-table__select_line__selected{background-color:#0065ff}.tc-table__area{padding:10px;height:100%}.tc-table__inp{outline:none;flex-grow:100;min-height:1.5em;height:100%;overflow:hidden}.tc-table__option_button{position:absolute;top:4px;right:4px;visibility:hidden;width:22px;height:20px;border:none;background:none;background-color:#fff;border-radius:3px;padding:0;padding:2px;cursor:pointer;z-index:99}.tc-table__option_button__inner_box{border-radius:3px;background-color:#f4f5f7;width:100%;height:100%;position:relative}.tc-table__option_button__inner_box:hover{background-color:#e2e4e9}.tc-table__option_button__inner_box:active{background-color:rgba(179,212,255,.6)}.tc-table__option_button__inner_box:active svg{color:#0052cc;fill:#0052cc}.tc-table__option_button__inner_box.activated{background-color:#45526c}.tc-table__option_button__inner_box.activated svg{color:#fff;fill:#fff}.tc-table__option_button__inner_box svg{position:absolute;top:45%;left:50%;transform:translate(-50%, -50%);color:#45526c;fill:#45526c}.tc-table__option_table{position:absolute;top:0px;left:0px;color:var(--ds-text, #091e42);background-color:var(--ds-surface-overlay, #ffffff);border-radius:3px;box-shadow:rgba(9,30,66,.25) 0px 4px 8px -2px,rgba(9,30,66,.31) 0px 0px 1px;box-sizing:border-box;overflow:auto;padding:4px 0px;max-height:90vh;min-width:180px;visibility:hidden;z-index:99}.tc-table__option_table__inner{box-sizing:border-box;appearance:none;border:none;display:flex;position:static;flex-direction:column;overflow:auto}.tc-table__option_table__inner__option{display:flex;justify-content:space-between;box-sizing:border-box;width:100%;min-height:var(--ds-scale-500, 40px);margin:var(--ds-scale-0, 0px);padding:var(--ds-scale-100, 8px) var(--ds-scale-250, 20px);-webkit-box-align:center;align-items:center;border:0px;font-size:14px;outline:0px;text-decoration:none;user-select:none;background-color:rgba(0,0,0,0);color:currentcolor;cursor:pointer}.tc-table__option_table__inner__option:hover{background-color:#e2e4e9}.tc-table__option_table__inner__option:active{background-color:rgba(179,212,255,.6)}.tc-table__option_table__inner__option:disabled{color:#e2e4e9;cursor:not-allowed}.tc-table__option_table__inner__option:disabled:hover{background-color:#fff}.tc-table__option_table__inner__option.color-option{position:relative}.tc-table__option_table__inner__option.toggle-row-header-option.row-header-on,.tc-table__option_table__inner__option.toggle-col-header-option.col-header-on{font-weight:bold}.tc-table__option_table__inner__option.toggle-row-header-option.row-header-on::after,.tc-table__option_table__inner__option.toggle-col-header-option.col-header-on::after{content:"\\2714\\FE0F"}.tc-table__color-palette{position:absolute;top:0px;left:0px;background-color:#fff;border-radius:3px;box-shadow:rgba(9,30,66,.25) 0px 4px 8px -2px,rgba(9,30,66,.31) 0px 0px 1px;box-sizing:border-box;overflow:auto;display:grid;grid-gap:10px;grid-template-columns:repeat(7, 25px);grid-template-rows:repeat(3, 25px);grid-auto-flow:inherit;padding:10px;z-index:100;visibility:hidden}.tc-table__color-palette .color-block{width:27px;height:27px;border:1px solid rgba(179,212,255,.6);border-radius:2px;box-sizing:border-box;margin:0;cursor:pointer}.tc-table__color-palette .color-block:hover{box-shadow:0px 0px 0px 1px #cae5ff}.tc-table .tc-table__cell.selected::after{height:100%;width:100%;border:1px solid #0065ff;background-color:rgba(51,159,255,.231372549);content:"";position:absolute;left:-1px;top:-1px;bottom:0px;z-index:12;display:inline-block;pointer-events:none;box-sizing:content-box}',""])},function(e,t){e.exports='<svg width="18" height="14"><path d="M2.833 8v1.95a1.7 1.7 0 0 0 1.7 1.7h3.45V8h-5.15zm0-2h5.15V2.35h-3.45a1.7 1.7 0 0 0-1.7 1.7V6zm12.3 2h-5.15v3.65h3.45a1.7 1.7 0 0 0 1.7-1.7V8zm0-2V4.05a1.7 1.7 0 0 0-1.7-1.7h-3.45V6h5.15zM4.533.1h8.9a3.95 3.95 0 0 1 3.95 3.95v5.9a3.95 3.95 0 0 1-3.95 3.95h-8.9a3.95 3.95 0 0 1-3.95-3.95v-5.9A3.95 3.95 0 0 1 4.533.1z"></path></svg>'},function(e,t){e.exports='<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 2V8V10V16V18H2H8H10H16H18V16V10V8V2V0H16H10H8H2H0V2ZM8 2L2 2V8H8L8 2ZM8 10H2V16H8L8 10ZM10 16V10H16V16H10ZM10 8V2L16 2V8H10Z"></path></svg>'},function(e,t,n){"use strict";n.r(t),n.d(t,"TableConstructor",(function(){return $}));n(5);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);l=!0);}catch(e){a=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a="tc-table__resize_column",s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"getIndex",(function(e){for(var t=n.table.body.querySelectorAll(".".concat(a)),o=0;o<t.length;o+=1)if(t[o]===e.target)return o;return-1})),l(this,"onDragStart",(function(e){var t=n.table.body.rows[0].cells.length,r=e.target.closest("td,th").cellIndex,i=r-1;n.startX=e.clientX,n.resizeStick=e.target,n.resizeStickIndex=i,n.width=n.table.body.offsetWidth,t===r+1&&(n.isLastResizeStick=!0);var l=o(n.getWidthCols(),2),a=l[0],s=l[1];n.widthFirst=a,n.widthSecond=s,document.body.style.cursor="col-resize",e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()})),l(this,"onDrag",(function(e){n.resizeStick&&n.move(e.clientX-n.startX)})),l(this,"onDragEnd",(function(){n.resizeStick=null,n.isLastResizeStick=!1,document.body.style.cursor="auto"})),l(this,"move",(function(e){var t=o(n.getCols(),2),r=t[0],i=t[1],l=n.widthFirst+e,a=n.widthSecond-e;l>=50&&(r.style.width="".concat(l,"px"),l>=50&&a>=50&&(i.style.width="".concat(a,"px")))})),l(this,"getCols",(function(){var e=n.table.colgroup.children;return[e[n.resizeStickIndex],e[n.resizeStickIndex+1]]})),l(this,"parseWidth",(function(e){var t=e.style.width||e.getBoundingClientRect().width;return Number.parseFloat(t)})),l(this,"getWidthCols",(function(){var e=o(n.getCols(),2),t=e[0],r=e[1];return[n.parseWidth(t),n.parseWidth(r)]})),this.table=t,this.resizeStick=null,this.resizeStickIndex=0,this.isLastResizeStick=!1,this.startX=0,this.x=0,this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){document.addEventListener("mousemove",this.onDrag,!1),document.addEventListener("mouseup",this.onDragEnd,!1)}},{key:"createElem",value:function(e){if(!e.querySelector(".".concat(a))){var t=z("div",[a]);t.addEventListener("mousedown",this.onDragStart,!1),e.appendChild(t)}}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),c=n(2),d=n.n(c);function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f="tc-table__select_line_col",p="tc-table__select_line_row",b="tc-table__tr_remove",v="tc-table__td_remove",_="tc-table__select_line_remover",g="tc-table__select_line__selected",y=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"_getDirection",(function(e){return e.target.classList.contains(f)?0:1})),h(this,"_onMouseEnter",(function(e){if(0!==n._getDirection(e)){var t=e.target.closest("tr");Array.from(t.cells).forEach((function(e){e.classList.add(b)}))}else for(var o=n._getIndex(e),r=0;r<n.table.body.rows.length;r+=1)n.table.body.rows[r].children[o]&&n.table.body.rows[r].children[o].classList.add(v)})),h(this,"_onMouseLeave",(function(e){if(e.target)if(0===n._getDirection(e)){n.table.body.querySelectorAll(".".concat(v)).forEach((function(e){e.classList.remove(v)}))}else{var t=e.target.closest("tr");Array.from(t.cells).forEach((function(e){e.classList.remove(b)}))}})),h(this,"_getIndex",(function(e){return e.target.classList.contains(f)?e.target.offsetParent.cellIndex:e.target.offsetParent.parentNode.rowIndex})),h(this,"_onClick",(function(e){var t=n._getIndex(e),o=n._getDirection(e);n.table.deselectCells(),0===o?(n.table.selectColumn(t),n.highlightColSelectLines([t]),n._focusFirstSelecedCell(o,t),n.table.selectedCols=[t],n.table.selectedRows=Array.from({length:n.table.body.rows.length},(function(e,t){return t}))):(n.table.selectRow(t),n.highlightRowSelectLines([t]),n._focusFirstSelecedCell(o,t),n.table.selectedRows=[t],n.table.selectedCols=Array.from({length:n.table.body.rows[0].cells.length},(function(e,t){return t})))})),this.table=t,this.removeButton=this._createLineRemoveButton()}var t,n,o;return t=e,(n=[{key:"createElem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0===t?f:p;if(!e.querySelector(".".concat(n))){var o=z("div",[n]);o.addEventListener("click",this._onClick,!1),o.addEventListener("mouseenter",this._onMouseEnter,!1),o.addEventListener("mouseleave",this._onMouseLeave,!1),e.appendChild(o)}}},{key:"highlightColSelectLines",value:function(e){Array.from(this.table.body.rows[0].cells).filter((function(t){return e.includes(t.cellIndex)})).map((function(e){return e.querySelector("."+f)})).forEach((function(e){e.classList.add(g)})),this._placeLineRemoveButton("horizontal")}},{key:"highlightRowSelectLines",value:function(e){Array.from(this.table.body.rows).filter((function(t){return e.includes(t.rowIndex)})).map((function(e){return e.querySelector("."+p)})).forEach((function(e){e.classList.add(g)})),this._placeLineRemoveButton("vertical")}},{key:"dehighlightSelectLines",value:function(){this.table.body.querySelectorAll(".".concat(f,",.").concat(p)).forEach((function(e){e.classList.remove(g)}))}},{key:"hideLineRemoveButton",value:function(){this.removeButton.style.visibility="hidden"}},{key:"_focusFirstSelecedCell",value:function(e,t){0!==e?this.table.body.rows[t].cells[0].querySelector("."+T.inputField).focus():this.table.body.rows[0].cells[t].querySelector("."+T.inputField).focus()}},{key:"_createLineRemoveButton",value:function(){var e=this,t=z("button",[_]),n=z("div");return n.innerHTML=d.a,t.appendChild(n),t.addEventListener("click",function(t){var n=t.target.closest("."+_).dataset.direction;return"horizontal"===n?(e.table.selectedCols.forEach((function(t,n){e.table.removeColumn(t-n)})),void e.table.deselectCells()):"vertical"===n?(e.table.selectedRows.forEach((function(t,n){e.table.removeRow(t-n)})),void e.table.deselectCells()):void 0}.bind(this)),this.table.body.appendChild(t),t}},{key:"_placeLineRemoveButton",value:function(e){if(this.table.selectedCols.length===this.table.body.rows[0].cells.length&&this.table.selectedRows.length===this.table.body.rows.length)this.hideLineRemoveButton();else{if("horizontal"===e){var t=Array.from(this.table.body.rows[0].querySelectorAll("."+g)),n=t[0].offsetParent.offsetLeft,o=t.reduce((function(e,t){return t.offsetWidth+2+e}),0);return this.removeButton.style.left="".concat(n+o/2,"px"),this.removeButton.style.top="-40px",this.removeButton.style.transform="translateX(-50%)",this.removeButton.style.visibility="visible",void this.removeButton.setAttribute("data-direction",e)}if("vertical"===e){var r=Array.from(this.table.body.rows),i=[];r.forEach((function(e){var t=e.cells[0].querySelector("."+g);t&&i.push(t)}));var l=i[0].offsetParent.offsetTop,a=i.reduce((function(e,t){return t.offsetHeight+2+e}),0);this.removeButton.style.top="".concat(l+a/2,"px"),this.removeButton.style.left="-40px",this.removeButton.style.transform="translateY(-50%)",this.removeButton.style.visibility="visible",this.removeButton.setAttribute("data-direction",e)}}}}])&&u(t.prototype,n),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C="tc-table__add_column",k="tc-table__add_row",S=m((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),x(this,"createElem",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=[C,k][t];if(!e.querySelector(".".concat(o))){var r=z("div");r.addEventListener("click",n.onClick);var i=z("div",[o],null,[r,z("div")]);return e.appendChild(i),i}})),x(this,"getDirection",(function(e){return e.classList.contains(C)?0:1})),x(this,"getIndex",(function(e){for(var t=n.table.body.querySelectorAll(".".concat(e.className)),o=0;o<t.length;o+=1)if(t[o]===e)return o;return-1})),x(this,"onClick",(function(e){var t=e.target.parentNode,o=n.getDirection(t),r=n.getIndex(t);0===o?n.table.addColumn(r):n.table.addRow(r)})),this.table=t})),L=(n(8),n(3)),E=n.n(L);function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var O=["#ffffff","#e0ebfd","#eafbfe","#e8fbf0","#fefae8","#fcece7","#e9e6fd","#f4f5f7","#b9d4fb","#c1f3fd","#bbf3d3","#fcf0ba","#f5c0b0","#beb7ee","#b4bac4","#5f9af8","#93dfef","#7cd5a7","#f6c544","#f0957a","#978ed4"],B=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.table=t,this._colors=n.colors||O,this.api=o,this._init(),this._fillCellMenu()}var t,n,o;return t=e,(n=[{key:"createElem",value:function(e){var t=z("button",[I.openCellMenuButton]),n=z("div",[I.iconBox]);n.innerHTML=E.a,t.appendChild(n),t.addEventListener("mousedown",this._handleMouseDown.bind(this)),t.addEventListener("click",this._handleCellMenuButtonClick.bind(this)),e.appendChild(t)}},{key:"_hideCellMenu",value:function(e){e.target.closest("."+I.openCellMenuButton)||(this.container.style.visibility="hidden",this.table.body.querySelectorAll("."+I.iconBox).forEach((function(e){e.classList.remove("activated")})))}},{key:"_createMergeButton",value:function(){var e=document.createElement("button");return e.textContent=this.api.i18n.t("Merge Cells"),e.classList.add(I.option),e.classList.add(I.mergeOption),e.addEventListener("click",this.mergeCells.bind(this)),e}},{key:"_createUnmergeButton",value:function(){var e=document.createElement("button");return e.textContent=this.api.i18n.t("Divide Cell"),e.classList.add(I.option),e.classList.add(I.unmergeOption),e.addEventListener("click",this.unmerge.bind(this)),e}},{key:"_createAddColumnOnRightButton",value:function(){var e=document.createElement("button");return e.textContent=this.api.i18n.t("Insert Column On Right"),e.classList.add(I.option),e.addEventListener("click",this.addColumnOnRight.bind(this)),e}},{key:"_createAddRowBelow",value:function(){var e=document.createElement("button");return e.textContent=this.api.i18n.t("Insert Row Below"),e.classList.add(I.option),e.addEventListener("click",this.addRowBelow.bind(this)),e}},{key:"_createColRemoveButton",value:function(){var e=this,t=document.createElement("button");return t.textContent=this.api.i18n.t("Remove Column"),t.classList.add(I.option),t.addEventListener("click",function(t){var n=e.selectedCell,o=e.selectedCols;0!==o.length?o.forEach((function(t,n){e.removeColumn(t-n)})):e.removeColumn(n.cellIndex)}.bind(this)),t}},{key:"_createRowRemoveButton",value:function(){var e=this,t=document.createElement("button");return t.textContent=this.api.i18n.t("Remove Row"),t.classList.add(I.option),t.addEventListener("click",function(t){var n=e.selectedCell,o=e.selectedRows;0!==o.length?o.forEach((function(t,n){e.removeRow(t-n)})):e.removeRow(n.parentNode.rowIndex)}.bind(this)),t}},{key:"_createColorPickerButton",value:function(){var e=this,t=document.createElement("button");return t.textContent=this.api.i18n.t("Cell Color"),t.classList.add(I.option),t.classList.add(I.colorOption),t.addEventListener("mouseenter",(function(n){var o=t.getBoundingClientRect(),r=o.top,i=o.left,l=Math.floor(window.scrollY),a=e.colorPalette.getBoundingClientRect().width;e.colorPalette.style.top="".concat(Math.floor(r)+l,"px"),e.colorPalette.style.left="".concat(i-a,"px"),e.colorPalette.style.visibility="visible"})),t.addEventListener("mouseleave",(function(t){e.colorPalette.style.visibility="hidden"})),t}},{key:"_changeCellColor",value:function(e){if(e.target.closest("."+I.colorBlock)){var t=e.target.dataset.color===this._colors[0]?null:e.target.dataset.color,n=this.table.selectedRows,o=this.table.selectedCols,r=this.table.selectedCell;if(this.colorPalette.style.visibility="hidden",this._hideCellMenu(e),!n.length&&!o.length)return r.style.backgroundColor=t,void this.table.deselectCells();for(var i=n[0];i<=n[n.length-1];i++)for(var l=o[0];l<=o[o.length-1];l++)this.table.body.rows[i].cells[l].style.backgroundColor=t;this.table.deselectCells()}}},{key:"_hideColorPalette",value:function(){this.colorPalette.style.visibility="hidden"}},{key:"_showColorPalette",value:function(){this.colorPalette.style.visibility="visible"}},{key:"_createToggleFirstRowHeaderButton",value:function(){var e=document.createElement("button");return e.textContent=this.api.i18n.t("Header Row"),e.classList.add(I.option),e.classList.add(I.toggleRowHeaderOption),e.addEventListener("click",this.toggleFirstRowHeader.bind(this)),e}},{key:"_createToggleFirstColHeaderButton",value:function(){var e=document.createElement("button");return e.textContent=this.api.i18n.t("Header Column"),e.classList.add(I.option),e.classList.add(I.toggleColHeaderOption),e.addEventListener("click",this.toggleFirstColHeader.bind(this)),e}},{key:"_fillCellMenu",value:function(){var e=this._createColorPickerButton(),t=this._createToggleFirstRowHeaderButton.call(this.table),n=this._createToggleFirstColHeaderButton.call(this.table),o=this._createAddColumnOnRightButton.call(this.table),r=this._createAddRowBelow.call(this.table),i=this._createMergeButton.call(this.table),l=this._createUnmergeButton.call(this.table),a=this._createRowRemoveButton.call(this.table),s=this._createColRemoveButton.call(this.table);this._cellMenuInner.appendChild(e),this._cellMenuInner.appendChild(t),this._cellMenuInner.appendChild(n),this._cellMenuInner.appendChild(o),this._cellMenuInner.appendChild(r),this._cellMenuInner.appendChild(i),this._cellMenuInner.appendChild(l),this._cellMenuInner.appendChild(a),this._cellMenuInner.appendChild(s)}},{key:"_handleMouseDown",value:function(e){e.preventDefault()}},{key:"_handleCellMenuButtonClick",value:function(e){var t=e.target.closest("."+I.openCellMenuButton).querySelector("."+I.iconBox),n=this.container.querySelector("."+I.mergeOption),o=this.container.querySelector("."+I.unmergeOption),r=this.container.querySelector("."+I.toggleRowHeaderOption),i=this.container.querySelector("."+I.toggleColHeaderOption),l=t.getBoundingClientRect(),a=l.top,s=l.right,c=Math.floor(window.scrollY),d=this.table.checkIfMergePossible.call(this.table),u=this.table.selectedCell.colSpan>1||this.table.selectedCell.rowSpan>1,h=0===this.table.selectedCell.parentNode.rowIndex,f=0===this.table.selectedCell.cellIndex;t.classList.add("activated"),this.container.style.top="".concat(Math.floor(a)+c,"px"),this.container.style.left="".concat(s+4,"px"),this.container.style.visibility="visible",h?(r.style.display="flex",this.table.isRowHeaderOn?r.classList.add(I.rowHeaderOn):r.classList.remove(I.rowHeaderOn)):r.style.display="none",f?(i.style.display="flex",this.table.isColHeaderOn?i.classList.add(I.colHeaderOn):i.classList.remove(I.colHeaderOn)):i.style.display="none",n.disabled=!d,o.style.display=u?"flex":"none"}},{key:"_init",value:function(){var e=document.createElement("div");e.classList.add(I.cellMenuInner);var t=document.createElement("div");t.appendChild(e),t.classList.add(I.cellMenu);var n=document.createElement("div");n.classList.add(I.colorPalette),this._colors.forEach((function(e){var t=document.createElement("figure");t.style.backgroundColor=e,t.classList.add(I.colorBlock),t.setAttribute("data-color",e),n.appendChild(t)})),this.container=t,this.colorPalette=n,this._cellMenuInner=e,this._cellMenuInner.addEventListener("click",this._catchClickEventDelegation.bind(this)),this.colorPalette.addEventListener("click",this._changeCellColor.bind(this)),this.colorPalette.addEventListener("mouseenter",this._showColorPalette.bind(this)),this.colorPalette.addEventListener("mouseleave",this._hideColorPalette.bind(this)),document.body.appendChild(t),document.body.appendChild(n),document.addEventListener("click",this._hideCellMenu.bind(this))}},{key:"_catchClickEventDelegation",value:function(e){e.target.classList.contains(I.option)&&this._hideCellMenu(e)}}])&&R(t.prototype,n),o&&R(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),I={openCellMenuButton:"tc-table__option_button",iconBox:"tc-table__option_button__inner_box",cellMenu:"tc-table__option_table",cellMenuInner:"tc-table__option_table__inner",option:"tc-table__option_table__inner__option",mergeOption:"merge-option",unmergeOption:"unmerge-option",colorOption:"color-option",colorPalette:"tc-table__color-palette",colorBlock:"color-block",toggleRowHeaderOption:"toggle-row-header-option",toggleColHeaderOption:"toggle-col-header-option",rowHeaderOn:"row-header-on",colHeaderOn:"col-header-on"};function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var M=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.table=t,this.api=n}var t,n,o;return t=e,(n=[{key:"handleEnterKeyPress",value:function(e){e.stopPropagation(),this._isComposingKorean(e)||(document.execCommand("insertLineBreak"),e.preventDefault())}},{key:"handleTabKeyPress",value:function(e){e.stopPropagation()}},{key:"handleShiftTabKeyPress",value:function(e){if(e.stopPropagation(),e.preventDefault(),!this._isComposingKorean(e)){var t=this.table.body,n=this.table.selectedCell,o=0===n.parentNode.rowIndex&&0===n.cellIndex,r=0===n.cellIndex,i=t.rows[n.parentNode.rowIndex].cells[n.cellIndex-1];o?this.api.caret.setToPreviousBlock("end",0):r?t.rows[n.parentNode.rowIndex-1].cells[t.rows[0].cells.length-1].querySelector("."+T.inputField).focus():"none"!==i.style.display?i.querySelector("."+T.inputField).focus():this.table.searchMainMergedCell(i).querySelector("."+T.inputField).focus()}}},{key:"handleArrowUpKeyPress",value:function(e){e.stopPropagation();var t=this.table.body,n=this.table.selectedCell,o=V(n.querySelector("."+T.inputField));if(0!==n.parentNode.rowIndex){if(0===o){var r=t.rows[n.parentNode.rowIndex-1].cells[n.cellIndex],i=r.querySelector("."+T.inputField);"none"===r.style.display&&this.table.searchMainMergedCell(r).querySelector("."+T.inputField).focus(),r.style.getPropertyValue("display")||i.focus()}}else this.api.caret.setToPreviousBlock("end",0)}},{key:"handleArrowDownKeyPress",value:function(e){if(e.stopPropagation(),!this._isComposingKorean(e)){var t=this.table.body,n=this.table.selectedCell,o=n.querySelector("."+T.inputField),r=V(o);if(n.parentNode.rowIndex+n.rowSpan-1==t.rows.length-1)this.api.caret.setToNextBlock("start",0);else if(r===o.textContent.length){var i=t.rows[n.parentNode.rowIndex+n.rowSpan].cells[n.cellIndex],l=i.querySelector("."+T.inputField);"none"===i.style.display?this.table.searchMainMergedCell(i).querySelector("."+T.inputField).focus():l.focus()}}}},{key:"_isComposingKorean",value:function(e){return e.isComposing}}])&&A(t.prototype,n),o&&A(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={table:"tc-table",inputField:"tc-table__inp",cell:"tc-table__cell",container:"tc-table__container",containerReadOnly:"tc-table__container_readonly",wrapper:"tc-table__wrap",area:"tc-table__area",addColumn:"tc-table__add_column",addRow:"tc-table__add_row",selected:"selected"},j=function(){function e(t,n,o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),H(this,"fillButtons",(function(e,t,n){r.readOnly||(0!==t&&r.resize.createElem(e),0!==t&&0!==n||(r.selectLine.createElem(e,Number(0===t)),0===t&&0===n&&r.selectLine.createElem(e)))})),H(this,"updateButtons",(function(){for(var e=0;e<r._table.rows.length;e+=1)for(var t=r._table.rows[e],n=0;n<t.children.length;n+=1){var o=t.children[n];r.fillButtons(o,n,e)}})),H(this,"removeButtons",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=[[T.addColumn,f],[T.addRow,p]];t[e].forEach((function(e){for(var t=r._table.querySelectorAll(".".concat(e)),n=0;n<t.length;n+=1)t[n].remove()}))})),this.api=n,this.readOnly=o,this._numberOfColumns=0,this._numberOfRows=0,this._element=this._createTableWrapper(),this._table=this._element.querySelector("table"),this.colgroup=this._table.querySelector("colgroup"),this.selectedRows=[],this.selectedCols=[],this.visibleCells=[],this.isRowHeaderOn=!1,this.isColHeaderOn=!1,this.resize=new s(this),this.selectLine=new y(this),this.createLine=new S(this),this.cellMenu=new B(this,t,n),this.shortcuts=new M(this,n),this.readOnly||this._hangEvents()}var t,n,o;return t=e,(n=[{key:"deselectCells",value:function(){this._table.querySelectorAll("."+T.selected).forEach((function(e){e.classList.remove(T.selected)})),this.selectLine.dehighlightSelectLines(),this.selectLine.hideLineRemoveButton(),this.selectedRows=[],this.selectedCols=[]}},{key:"insertCol",value:function(e){var t=z("col",[],{span:1});this.colgroup.insertBefore(t,this.colgroup.children[e])}},{key:"removeCol",value:function(e){this.body.querySelector("colgroup").children[e].remove()}},{key:"drawTableFromData",value:function(e){var t=this,n=this._table,o=e.rows,r=e.colgroup;o.forEach((function(e,o){var r=n.insertRow(o),i=0===o,l=1===o;i&&t.removeButtons(0),i&&e[1].isHeader&&(t.isRowHeaderOn=!0),l&&e[0].isHeader&&(t.isColHeaderOn=!0),e.forEach((function(e,n){var o=e.content,i=e.bgColor,l=e.colspan,a=e.rowspan,s=e.display,c=e.isHeader,d=r.insertCell(n);t._fillCell(d),d.colSpan=l,d.rowSpan=a,d.style.backgroundColor=i,d.querySelector("."+T.inputField).innerHTML=o,c&&F(d),!1===s&&(d.style.display="none",d.setAttribute("data-visibility","hidden"),d.querySelector("."+T.inputField).contentEditable=!1)})),t._numberOfRows++,t.updateButtons()})),r.forEach((function(e,n){var o=e.span,r=e.width;0===n&&t.removeButtons(1),t._numberOfColumns++,t.insertCol(n),t.updateButtons(),t.colgroup.children[n].style.width=r,t.colgroup.children[n].span=o}))}},{key:"selectColumn",value:function(e){for(var t=this._table,n=0;n<t.rows.length;n++)t.rows[n].cells[e].classList.add(T.selected)}},{key:"selectRow",value:function(e){for(var t=this._table,n=0;n<t.rows[e].cells.length;n++)t.rows[e].cells[n].classList.add(T.selected)}},{key:"addColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._numberOfColumns++;var t=this._table.rows;0===e&&this.removeButtons(1),this.insertCol(e);for(var n=0;n<t.length;n++){var o=t[n].insertCell(e);o.colSpan=1,o.rowSpan=1,this._fillCell(o)}this.readOnly||this.updateButtons()}},{key:"addColumnOnRight",value:function(){var e=this,t=this._table,n=this.selectedCell.colSpan>1||this.selectedCell.rowSpan>1,o=this.selectedCell.colSpan+this.selectedCell.cellIndex-1,r=n?o:this.selectedCell.cellIndex,i=function(t,n){if(n&&e.isRowHeaderOn)return e._fillCell(t),void F(t);e._fillCell(t)};if(r===t.rows[0].cells.length-1)this.addColumn();else{for(var l=0;l<t.rows.length;l++){var a=t.rows[l],s=a.cells[r],c=0===l,d="none"===s.style.display,u=s.colSpan>1||s.rowSpan>1;if(1===s.colSpan&&1===s.rowSpan&&"none"!==s.style.display){var h=a.insertCell(r+1);h.colSpan=1,h.rowSpan=1,i(h,c)}else if(u){var f=a.insertCell(r+1);s.colSpan+=1,i(f,c),D(f)}else if(d){var p=this.searchMainMergedCell(s),b=l===p.parentNode.rowIndex;if(r===p.cellIndex+p.colSpan-1){var v=a.insertCell(r+1);v.colSpan=1,v.rowSpan=1,i(v,c);continue}if(b){var _=a.insertCell(r+1);p.colSpan+=1,i(_,c),D(_);continue}var g=a.insertCell(r+1);i(g,c),D(g)}}this._numberOfColumns++,this.insertCol(r+1),this.updateButtons()}}},{key:"searchMainMergedCell",value:function(e){var t=this._table,n=e.parentNode.rowIndex,o=e.cellIndex,r=t.querySelectorAll("td,th");return Array.from(r).filter((function(e){return e.colSpan>1||e.rowSpan>1})).find((function(e){var t=e.parentNode.rowIndex,r=e.cellIndex,i=t+(e.rowSpan-1),l=r+(e.colSpan-1);return t<=n&&n<=i&&r<=o&&o<=l}))}},{key:"removeColumn",value:function(e){var t=this._table;0===e&&(this.isColHeaderOn=!1);for(var n=0;n<t.rows.length;n++){var o=t.rows[n],r=o.cells[e];if(r.colSpan>1){for(var i=r.colSpan,l=r.rowSpan,a=n;a<n+l;a++){for(var s=e;s<e+i;s++)U(t.rows[a].cells[s]);t.rows[a].deleteCell(e)}n+=l-1}else{if("none"===r.style.display)for(var c=e-1;c>=0;c--){var d=o.cells[c];if(d.colSpan>1){d.colSpan-=1;break}if("none"!==d.style.display)break}this._table.rows[n].deleteCell(e)}}this._numberOfColumns--,this._removeInvisibleRows(),this.readOnly||(this.removeCol(e),this.updateButtons())}},{key:"addRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._numberOfRows++;var t=this._table.insertRow(e);return 0===e&&this.removeButtons(0),this._fillRow(t,e),this.updateButtons(),t}},{key:"addRowBelow",value:function(){var e=this,t=this._table,n=this.selectedCell.colSpan>1||this.selectedCell.rowSpan>1,o=this.selectedCell.rowSpan+this.selectedCell.parentNode.rowIndex-1,r=n?o:this.selectedCell.parentNode.rowIndex,i=function(t,n){if(n&&e.isColHeaderOn)return e._fillCell(t),void F(t);e._fillCell(t)};if(r===t.rows.length-1)this.addRow();else{for(var l=t.insertRow(r+1),a=0;a<t.rows[r].cells.length;a++){var s=t.rows[r].cells[a],c="none"===s.style.display,d=s.colSpan>1||s.rowSpan>1,u=0===a;if(1===s.colSpan&&1===s.rowSpan&&"none"!==s.style.display){var h=l.insertCell(a);h.colSpan=1,h.rowSpan=1,i(h,u)}else if(d){var f=l.insertCell(a);s.rowSpan+=1,i(f,u),D(f)}else if(c){var p=this.searchMainMergedCell(s),b=a===p.cellIndex;if(r===p.parentNode.rowIndex+p.rowSpan-1){var v=l.insertCell(a);v.colSpan=1,v.rowSpan=1,i(v,u);continue}if(b){var _=l.insertCell(a);p.rowSpan+=1,i(_,u),D(_);continue}var g=l.insertCell(a);i(g,u),D(g)}}this._numberOfRows++,this.updateButtons()}}},{key:"removeRow",value:function(e){var t=this._table,n=t.rows[e];0===e&&(this.isRowHeaderOn=!1);for(var o=0;o<n.cells.length;o++){var r=n.cells[o];if(r.rowSpan>1)for(var i=e+1;i<t.rows.length;i++)for(var l=o;l<o+r.colSpan;l++)U(t.rows[i].cells[l]);if(r.colSpan>1&&(o+=r.colSpan),"none"===r.style.display)for(var a=e-1;a>=0;a--){var s=t.rows[a].cells[o];if(s.rowSpan>1){s.rowSpan-=1;break}if("none"!==s.style.display)break}}this._numberOfRows--,t.rows[e].remove(),this.updateButtons()}},{key:"mergeCells",value:function(){var e=this._table.querySelectorAll("td,th"),t=Array.from(e).filter((function(e){return e.classList.contains(T.selected)})),n=t[0],o=t[t.length-1],r=o.cellIndex-n.cellIndex+1,i=o.parentNode.rowIndex-n.parentNode.rowIndex+1;t.forEach((function(e,t){0===t?(e.colSpan=r,e.rowSpan=i):D(e)})),this._removeInvisibleRows()}},{key:"checkIfMergePossible",value:function(){if(!this.selectedCols.length&&!this.selectedRows.length)return!1;for(var e=this._table,t=0,n=0,o=0;o<e.rows.length;o++)for(var r=e.rows[o],i=0;i<r.cells.length;i++){var l=r.cells[i];l.classList.contains(T.selected)&&(t+=1,"none"!==l.style.display&&(n+=l.colSpan*l.rowSpan))}return t===n}},{key:"unmerge",value:function(){for(var e=this._table,t=this.selectedCell,n=t.parentNode.rowIndex,o=t.cellIndex,r=t.rowSpan,i=t.colSpan,l=n;l<n+r;l++)for(var a=o;a<o+i;a++){var s=e.rows[l].cells[a];l!==n||a!==o?U(s):(s.colSpan=1,s.rowSpan=1)}}},{key:"toggleFirstRowHeader",value:function(){for(var e=this._table.rows[0],t=0;t<e.cells.length;t++)this.isRowHeaderOn?N(e.cells[t]):F(e.cells[t]);this.isRowHeaderOn?this.isRowHeaderOn=!1:this.isRowHeaderOn=!0}},{key:"toggleFirstColHeader",value:function(){for(var e=this._table,t=0;t<e.rows.length;t++){var n=e.rows[t].cells[0];this.isColHeaderOn?N(n):F(n)}this.isColHeaderOn?this.isColHeaderOn=!1:this.isColHeaderOn=!0}},{key:"htmlElement",get:function(){return this._element}},{key:"body",get:function(){return this._table}},{key:"selectedCell",get:function(){return this._selectedCell}},{key:"withBorder",get:function(){}},{key:"_removeInvisibleRows",value:function(){for(var e=this,t=this._table,n=[],o=0;o<t.rows.length;o++){var r=t.rows[o];Array.from(r.cells).every((function(e){return"none"===e.style.display}))&&n.push(o)}if(n.forEach((function(t,n){e.removeRow(t-n)})),1===t.rows.length)for(var i=0;i<t.rows[0].cells.length;i++)t.rows[0].cells[i].rowSpan=1;return n.length}},{key:"_createTableWrapper",value:function(){return z("div",[this.readOnly?T.containerReadOnly:T.container],null,[z("div",[T.wrapper],null,[z("table",[T.table],null,[z("colgroup"),z("tbody")])])])}},{key:"_createContentEditableArea",value:function(){return z("div",[T.inputField],{contentEditable:!this.readOnly})}},{key:"_fillCell",value:function(e){var t=this._createContentEditableArea();this.cellMenu.createElem(e),e.classList.add(T.cell),e.appendChild(z("div",[T.area],null,[t]))}},{key:"_fillRow",value:function(e){for(var t=0;t<this._numberOfColumns;t++){var n=e.insertCell();this._fillCell(n)}}},{key:"_hangEvents",value:function(){this._table.addEventListener("focus",this._focusEditField.bind(this),!0),this._table.addEventListener("blur",this._blurEditField.bind(this),!0),this._table.addEventListener("keydown",this._shortcutKeys.bind(this)),this._table.addEventListener("mousedown",this._mouseDownOnCell.bind(this)),this._table.addEventListener("mouseover",this._mouseEnterInDetectArea.bind(this),!0)}},{key:"_focusEditField",value:function(e){e.target.classList.contains(T.inputField)&&(this._selectedCell=e.target.closest("."+T.cell),this.selectedCell.querySelector("."+I.openCellMenuButton).style.visibility="visible")}},{key:"_blurEditField",value:function(e){e.target.classList.contains(T.inputField)&&(e.target.closest("."+T.cell).querySelector("."+I.openCellMenuButton).style.visibility="hidden")}},{key:"_shortcutKeys",value:function(e){e.target.classList.contains(T.inputField)&&("Enter"!==e.key?"Tab"===e.key&&e.shiftKey?this.shortcuts.handleShiftTabKeyPress(e):"Tab"!==e.key?"ArrowUp"!==e.key?"ArrowDown"!==e.key||this.shortcuts.handleArrowDownKeyPress(e):this.shortcuts.handleArrowUpKeyPress(e):this.shortcuts.handleTabKeyPress(e):this.shortcuts.handleEnterKeyPress(e))}},{key:"_mouseDownOnCell",value:function(e){var t=this;if(0===e.button&&!e.target.closest("."+I.openCellMenuButton)&&!e.target.classList.contains(f)&&!e.target.classList.contains(p)&&e.target.closest("td,th")){var n=this._table,o=e.target.closest("td,th"),r=o.parentNode.rowIndex,i=o.cellIndex,l=o,a=function(e){if(e.target.closest("td,th")){var n=document.elementFromPoint(e.clientX,e.clientY).closest("td,th"),o=n.parentNode.rowIndex,r=n.cellIndex;l!==n&&(t.deselectCells(),s(o,r),n.querySelector("."+T.inputField).focus(),l=n)}},s=function(e,o){var l=n.rows[e].cells[o],a=l.colSpan>1||l.rowSpan>1,s=0,c=0;t.selectedRows=[],t.selectedCols=[],a&&(s+=l.rowSpan-1,c+=l.colSpan-1);for(var d=r;d<=e+s;d++){for(var u=n.rows[d].cells,h=i;h<=o+c;h++)u[h].classList.add(T.selected);t.selectedRows.push(d)}for(var f=i;f<=o+c;f++)t.selectedCols.push(f);var p=t.selectedRows.length===t._table.rows.length,b=t.selectedCols.length===t._table.rows[0].cells.length;p&&t.selectLine.highlightColSelectLines(t.selectedCols),b&&t.selectLine.highlightRowSelectLines(t.selectedRows),p||b||t.selectLine.hideLineRemoveButton()};this.deselectCells(),document.addEventListener("mousemove",a),document.addEventListener("mouseup",(function e(t){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",e)}))}}},{key:"_mouseEnterInDetectArea",value:function(e){if(e.target.classList.contains(T.area)){var t,n,o=function(e,t,n){var o;return t-e.x1>=-1&&t-e.x1<=11&&(o="left"),e.x2-t>=-1&&e.x2-t<=11&&(o="right"),n-e.y1>=-1&&n-e.y1<=11&&(o="top"),e.y2-n>=-1&&e.y2-n<=11&&(o="bottom"),o}((t=e.target.closest("TD,TH"),n=t.getBoundingClientRect(),{y1:Math.floor(n.top+window.pageYOffset),x1:Math.floor(n.left+window.pageXOffset),x2:Math.floor(n.right+window.pageXOffset),y2:Math.floor(n.bottom+window.pageYOffset)}),e.pageX,e.pageY);e.stopPropagation(),e.target.dispatchEvent(new CustomEvent("mouseInActivatingArea",{detail:{side:o},bubbles:!0}))}}}])&&P(t.prototype,n),o&&P(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q(e){return!(null==e)}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=document.createElement(e);if(q(t))for(var i=0;i<t.length;i++)q(t[i])&&r.classList.add(t[i]);if(q(n))for(var l in n)r.setAttribute(l,n[l]);if(q(o))for(var a=0;a<o.length;a++)q(o[a])&&r.appendChild(o[a]);return r}function F(e){var t=document.createElement("th");for(t.setAttribute("rowspan",e.rowSpan),t.setAttribute("colspan",e.colSpan),t.setAttribute("class",e.className),t.style.setProperty("display","none"===e.style.display?"none":null);e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e)}function N(e){var t=document.createElement("td");for(t.setAttribute("rowspan",e.rowSpan),t.setAttribute("colspan",e.colSpan),t.setAttribute("class",e.className),t.style.setProperty("display","none"===e.style.display?"none":null);e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e)}function D(e){e.colSpan=1,e.rowSpan=1,e.style.display="none",e.setAttribute("data-visibility","hidden"),e.querySelector("."+T.inputField).contentEditable=!1}function U(e){e.colSpan=1,e.rowSpan=1,e.style.removeProperty("display"),e.removeAttribute("data-visibility"),e.querySelector("."+T.inputField).contentEditable=!0}function V(e){var t,n=0,o=e.ownerDocument||e.document,r=o.defaultView||o.parentWindow;if(void 0!==r.getSelection){if((t=r.getSelection()).rangeCount>0){var i=r.getSelection().getRangeAt(0),l=i.cloneRange();l.selectNodeContents(e),l.setEnd(i.endContainer,i.endOffset),n=l.toString().length}}else if((t=o.selection)&&"Control"!=t.type){var a=t.createRange(),s=o.body.createTextRange();s.moveToElementText(e),s.setEndPoint("EndToEnd",a),n=s.text.length}return n}function K(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var W="tc-table__add_column_button",X="tc-table__add_row_button",Y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._table=t}var t,n,o;return t=e,(n=[{key:"createAddRowButton",value:function(){var e=this,t=z("div",[X]);return t.addEventListener("click",(function(){return e._table.addColumn(e._table._numberOfColumns)})),t}},{key:"createAddColButton",value:function(){var e=this,t=z("div",[W]);return t.addEventListener("click",(function(){return e._table.addRow(e._table._numberOfRows)})),t}}])&&K(t.prototype,n),o&&K(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var $=function(){function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.readOnly=r,this._CSS={editor:"tc-editor",inputField:"tc-table__inp",withBorder:"tc-table__with_border"};try{this._table=new j(n,o,r),this._addLine=new Y(this._table),this._drawTable(t,n)}catch(e){console.error(e)}this._container=z("div",[this._CSS.editor,o.styles.block],null,[this._table.htmlElement]),this.readOnly||(this._container.appendChild(this._addLine.createAddRowButton()),this._container.appendChild(this._addLine.createAddColButton()))}var t,n,o;return t=e,(n=[{key:"htmlElement",get:function(){return this._container}},{key:"_drawTable",value:function(e,t){var n=!!e&&Array.isArray(e.rows)&&Array.isArray(e.colgroup),o=n?e.rows.length:void 0,r=n?e.colgroup.length:void 0,i=Number.parseInt(t.rows),l=Number.parseInt(t.cols),a=o||i||3,s=r||l||2,c=this._table;if(n)c.htmlElement.classList.toggle(this._CSS.withBorder,!0),this._table.drawTableFromData(e);else{for(var d=0;d<a;d++)c.addRow(d);for(var u=0;u<s;u++)c.addColumn(u);c.htmlElement.classList.toggle(this._CSS.withBorder,!0)}return{rows:a,cols:s}}}])&&Z(t.prototype,n),o&&Z(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()}])}));
//# sourceMappingURL=bundle.js.map